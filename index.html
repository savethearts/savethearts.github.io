<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>ONE ART</title>
        <link rel="stylesheet" type="text/css" href="style.css">
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    </head>
    <body>
    	<div class="pop">
    		<div class="pop-inner">
    			<iframe width="640" height="360" src="http://www.youtube.com/embed/OP7cHrY9HOg?rel=0" frameborder="0" allowfullscreen></iframe>
    		</div>
    	</div>
    	<div class="container">
    		<div id="countdown">
    			<h4>Countdown:</h4>
				<span class="days">0</span>
				<p class="timeRefDays">days</p>
				<span class="hours">00</span>
				<p class="timeRefHours">hrs</p>
				<span class="minutes">00</span>
				<p class="timeRefMinutes">min</p>
				<span class="seconds">00</span>
				<p class="timeRefSeconds">secs</p>
			</div>
	    	<h1>#OPENYOUREYES</h1>
	    	<div class="input-section">
		    	<label>Enter the code to find out the other themes:</label>
		    	<input id="code-input" type="text" onkeypress="handleKeyPress(event)">
		    </div>
	    	<h2>City Locations</h2>
	    	<ul class="locations hide-codes">
	    		<li><a href="#nogo" id="ny" class="city-hover">New York <span>- &#147;The Urban Tree&#148;</span></a></li>
	    		<li><a href="#nogo" id="chi" class="city-hover">Chicago <span>- &#147;Color in Motion&#148;</span></a></li>
	    		<li><a href="#nogo" id="stl" class="city-hover">St. Louis <span>- &#147;Art of Earth&#148;</span></a></li>
	    		<li><a href="#nogo" id="atl" class="city-hover">Atlanta <span>- &#147;War of Music&#148;</span></a></li>
	    		<li><a href="#nogo" id="aus" class="city-hover">Austin <span>- &#147;Frozen Electricity&#148;</span></a></li>
	    		<li><a href="#nogo" id="sea" class="city-hover">Seattle <span>- &#147;Your City. Your POV.&#148;</span></a></li>
	    		<li><a href="#nogo" id="sanf" class="city-hover">San Francisco <span>- &#147;Sound of the City&#148;</span></a></li>
	    		<li><a href="#nogo" id="la" class="city-hover">Los Angeles <span>- &#147;Color of a Nation&#148;</span></a></li>
	    	</ul>
	    	<div class="map">
	    		<div class="blip ny"></div>
				<div class="blip chi"></div>
				<div class="blip stl"></div>
				<div class="blip atl"></div>
				<div class="blip aus"></div>
				<div class="blip sea"></div>
				<div class="blip sanf"></div>
				<div class="blip la"></div>
	    	</div>
	    </div>
	    <script>
		    (function (e) {
				e.fn.countdown = function (t, n) {
				function i() {
					eventDate = Date.parse(r.date) / 1e3;
					currentDate = Math.floor(e.now() / 1e3);
					if (eventDate <= currentDate) {
						n.call(this);
						clearInterval(interval)
					}
					seconds = eventDate - currentDate;
					days = Math.floor(seconds / 86400);
					seconds -= days * 60 * 60 * 24;
					hours = Math.floor(seconds / 3600);
					seconds -= hours * 60 * 60;
					minutes = Math.floor(seconds / 60);
					seconds -= minutes * 60;
					days == 1 ? thisEl.find(".timeRefDays").text("day") : thisEl.find(".timeRefDays").text("days");
					hours == 1 ? thisEl.find(".timeRefHours").text("hr") : thisEl.find(".timeRefHours").text("hrs");
					minutes == 1 ? thisEl.find(".timeRefMinutes").text("min") : thisEl.find(".timeRefMinutes").text("mins");
					seconds == 1 ? thisEl.find(".timeRefSeconds").text("sec") : thisEl.find(".timeRefSeconds").text("secs");
					if (r["format"] == "on") {
						days = String(days).length >= 2 ? days : "0" + days;
						hours = String(hours).length >= 2 ? hours : "0" + hours;
						minutes = String(minutes).length >= 2 ? minutes : "0" + minutes;
						seconds = String(seconds).length >= 2 ? seconds : "0" + seconds
					}
					if (!isNaN(eventDate)) {
						thisEl.find(".days").text(days);
						thisEl.find(".hours").text(hours);
						thisEl.find(".minutes").text(minutes);
						thisEl.find(".seconds").text(seconds)
					} else {
						alert("Invalid date. Example: 30 Tuesday 2013 15:50:00");
						clearInterval(interval)
					}
				}
				thisEl = e(this);
				var r = {
					date: null,
					format: null
				};
				t && e.extend(r, t);
				i();
				interval = setInterval(i, 1e3)
				}
				})(jQuery);
				$(document).ready(function () {
				function e() {
					var e = new Date;
					e.setDate(e.getDate() + 60);
					dd = e.getDate();
					mm = e.getMonth() + 1;
					y = e.getFullYear();
					futureFormattedDate = mm + "/" + dd + "/" + y;
					return futureFormattedDate
				}
				$("#countdown").countdown({
					date: "18 August 2014 09:00:00", // Change this to your desired date to countdown to
					format: "on"
				});
			});
	    	function handleKeyPress(e){
	    		var kode = $('#code-input').val();
				var key=e.keyCode || e.which;
				if (key==13){
				 if (kode=='1234'){
				 	alert('Awesome! Now you have access to the event names.');
				 	$('.locations').removeClass('hide-codes');
				 }
				 else {
				 	alert('Sorry, "' + kode + '" is not the correct code. Try again?');
				 }
				}
			}
			$(document).ready(function() {
				$('.pop').hide();
	            $('.city-hover').hover(function() {
	            	city = $(this).attr('id');
	            	$('.' + city).css('background-color','#fff');
	            	$('.' + city).addClass('blip-icon');
	            }, function() {
	            	$('.' + city).removeAttr('style');
	            	$('.' + city).removeClass('blip-icon');
	            });

	            $('.blip').hover(function() {
	            	$(this).addClass('blip-icon');
	            	city = $(this).attr('class').split(' ')[1];
	            	$('#' + city).css('color','#fff');
	            }, function() {
	            	$('#' + city).removeAttr('style');
	            	$(this).removeClass('blip-icon');
	            });
	            $('.blip').click(function() {
	            	$('.pop').fadeIn( 500 );
	            });
	            $('.pop').click(function() {
	            	$('.pop').fadeOut( 500 );
            		$('.pop-inner iframe').prop('src', '#');
			    	$('.pop-inner iframe').prop('src', 'http://www.youtube.com/embed/OP7cHrY9HOg?rel=0');
	            });
	        });
	    </script>
	</body>
</html>